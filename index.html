<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Ti·∫øng Anh - Luy·ªán T·∫≠p</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Quiz Luy·ªán T·∫≠p Ti·∫øng Anh</h1>
            <div class="stats">
                <div class="stat-item">
                    <span>üìä</span>
                    <span>C√¢u: <strong id="currentQuestion">0</strong>/<strong id="totalQuestions">0</strong></span>
                </div>
                <div class="stat-item">
                    <span>‚úÖ</span>
                    <span>ƒê√∫ng: <strong id="correctCount">0</strong></span>
                </div>
                <div class="stat-item">
                    <span>‚ùå</span>
                    <span>Sai: <strong id="wrongCount">0</strong></span>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="upload-section" id="uploadSection">
                <div style="margin-bottom: 30px;">
                    <h2 style="color: #667eea; margin-bottom: 15px; text-align: center;">üìö Ch·ªçn nhanh b√†i t·∫≠p</h2>
                    <div id="quickSelectContainer" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;"></div>
                </div>

                <div style="text-align: center; color: #999; margin: 20px 0; font-weight: bold;">HO·∫∂C</div>

                <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                    <svg fill="#667eea" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                    </svg>
                    <h2>T·∫£i l√™n file JSON t√πy ch·ªânh</h2>
                    <p>K√©o & th·∫£ file JSON v√†o ƒë√¢y ho·∫∑c nh·∫•n ƒë·ªÉ ch·ªçn t·ª´ m√°y t√≠nh</p>
                </div>
                <input type="file" id="fileInput" accept=".json" onchange="handleFileUpload(event)">
                <div class="error-message" id="errorMessage"></div>
            </div>

            <div class="quiz-section" id="quizSection">
                <div id="passageSelectorContainer"></div>
                <div id="passageContainer"></div>
                
                <div class="question-header">
                    <div class="question-number" id="questionNumber"></div>
                    <div class="vn-title" id="vnTitle"></div>
                    <div class="question-text" id="questionText"></div>
                </div>

                <div class="options" id="optionsContainer"></div>

                <div class="button-grid mb-16" id="buttonContainer">
                    <button class="btn btn-primary" id="submitBtn" onclick="submitAnswer()">
                        ‚úì Submit
                    </button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
                        C√¢u ti·∫øp theo ‚Üí
                    </button>
                </div>

                <div class="result-box" id="resultBox">
                    <div class="result-icon" id="resultIcon"></div>
                    <div class="result-text" id="resultText"></div>
                    <div class="correct-answer" id="correctAnswer"></div>
                    <div class="question-vi" id="questionVi"></div>
                </div>

                <div class="buttons">
                    <button class="btn btn-secondary" onclick="shuffleQuestions()">
                        üîÄ Tr·ªôn c√¢u h·ªèi
                    </button>
                    <button class="btn btn-secondary" onclick="resetQuiz()">
                        üîÑ L√†m m·ªõi
                    </button>
                </div>
            </div>

            <div class="completion-screen" id="completionScreen">
                <div class="completion-icon">üéâ</div>
                <div class="completion-score" id="finalScore"></div>
                <div class="completion-message" id="completionMessage"></div>
                <div class="buttons">
                    <button class="btn btn-success" onclick="restartQuiz()">
                        üîÅ L√†m l·∫°i
                    </button>
                    <button class="btn btn-secondary" onclick="shuffleAndRestart()">
                        üîÄ Tr·ªôn & l√†m l·∫°i
                    </button>
                    <button class="btn btn-secondary" onclick="resetQuiz()">
                        üì§ T·∫£i file m·ªõi
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-box">
            <div class="modal-icon" id="modalIcon">‚ùì</div>
            <div class="modal-title" id="modalTitle">X√°c nh·∫≠n</div>
            <div class="modal-message" id="modalMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-confirm" id="modalConfirm">ƒê·ªìng √Ω</button>
                <button class="modal-btn modal-btn-cancel" id="modalCancel">H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Load JavaScript modules -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/quiz-data.js"></script>
    <script src="js/quiz-render.js"></script>
    <script src="js/quiz-actions.js"></script>
    <script src="js/drag-drop.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
